<?xml version="1.0" encoding="UTF-8"?>
<sos:Capabilities version="2.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:swe="http://www.opengis.net/swe/2.0" xmlns:swes="http://www.opengis.net/swes/2.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:sos="http://www.opengis.net/sos/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink">
   <ows:ServiceIdentification>
      <ows:Title>My SOS</ows:Title>
      <ows:Abstract>SOS serving water related data measured sensors attached to mobile gliders</ows:Abstract>
      <ows:ServiceType>OGC:SOS</ows:ServiceType>
      <ows:ServiceTypeVersion>2.0.0</ows:ServiceTypeVersion>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/gfoi</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/obsByIdRetrieval</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/sensorInsertion</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/sensorDeletion</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/obsInsertion</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/resultInsertion</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/resultRetrieval</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/spatialFilteringProfile</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SOS/2.0/conf/soap</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SWE/2.0/conf/uml-block-components</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SWE/2.0/conf/uml-record-components</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SWE/2.0/conf/xsd-record-components</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/SWE/2.0/conf/xsd-block-components</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/OMXML/2.0/conf/samplingPoint</ows:Profile>
      <ows:Profile>http://www.opengis.net/spec/OMXML/2.0/conf/observation</ows:Profile>
      <ows:Fees>NONE</ows:Fees>
      <ows:AccessConstraints>NONE</ows:AccessConstraints>
   </ows:ServiceIdentification>

   <sos:extension>
      <sos:InsertionCapabilities>
         <sos:procedureDescriptionFormat>http://www.opengis.net/sensorML/1.0.1</sos:procedureDescriptionFormat>
         <sos:featureOfInterestType>http://www.opengis.net/def/samplingFeatureType/OGC-OM/2.0/SF_SamplingPoint</sos:featureOfInterestType>
         <sos:observationType>http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement</sos:observationType>
         <sos:supportedEncoding>http://www.opengis.net/swe/2.0/TextEncoding</sos:supportedEncoding>
      </sos:InsertionCapabilities>
   </sos:extension>


   <!-- the filterCapabilities section lists the filters and operands which are supported in the observation, result and feature retrieval operations -->
   <sos:filterCapabilities>
      <fes:Filter_Capabilities>
         <fes:Conformance/>
         <fes:Spatial_Capabilities>
            <fes:GeometryOperands>
               <fes:GeometryOperand name="gml:Point" />
               <fes:GeometryOperand name="gml:Polygon" />
            </fes:GeometryOperands>
            <fes:SpatialOperators>
               <fes:SpatialOperator name="BBOX" />
               <fes:SpatialOperator name="Intersects" />
               <fes:SpatialOperator name="Within" />
            </fes:SpatialOperators>
         </fes:Spatial_Capabilities>
         <fes:Temporal_Capabilities>
            <fes:TemporalOperands>
               <fes:TemporalOperand name="gml:TimePeriod" />
               <fes:TemporalOperand name="gml:TimeInstant" />
            </fes:TemporalOperands>
            <fes:TemporalOperators>
               <fes:TemporalOperator name="During" />
               <fes:TemporalOperator name="After" />
               <fes:TemporalOperator name="TEquals" />
            </fes:TemporalOperators>
         </fes:Temporal_Capabilities>
      </fes:Filter_Capabilities>
   </sos:filterCapabilities>

   <sos:contents>
      <sos:Contents>
         <swes:procedureDescriptionFormat>http://www.opengis.net/sensorML/1.0.1</swes:procedureDescriptionFormat>
         <swes:observableProperty>http://marinemetadata.org/cf#sea_water_salinity</swes:observableProperty>
         <swes:observableProperty>http://marinemetadata.org/cf#sea_water_temperature</swes:observableProperty>
         <swes:relatedFeature>
            <swes:FeatureRelationship>
               <swes:target xlink:href="http://myServer.org/features/GulfOfMexico" />
            </swes:FeatureRelationship>
         </swes:relatedFeature>
         <swes:offering>
            <sos:ObservationOffering>
               <swes:identifier>http://myServer.org/offerings/Observations_of_sensor_system_Glider1</swes:identifier>
               <swes:procedure>http://myServer.org/sensors/glider1</swes:procedure>
               <sos:observedArea>
                  <gml:Envelope srsName="http://www.opengis.net/def/crs/EPSG/0/4326" srsDimension="2">
                     <gml:lowerCorner>21.0 -95.0</gml:lowerCorner>
                     <gml:upperCorner>28.0 -84.0</gml:upperCorner>
                  </gml:Envelope>
               </sos:observedArea>
               <sos:phenomenonTime>
                  <gml:TimePeriod gml:id="T1">
                     <gml:beginPosition>2009-01-01T00:00:00Z</gml:beginPosition>
                     <gml:endPosition>2011-03-01T00:00:00Z</gml:endPosition>
                  </gml:TimePeriod>
               </sos:phenomenonTime>
            </sos:ObservationOffering>
         </swes:offering>
         <swes:offering>
            <sos:ObservationOffering>
               <swes:identifier>http://myServer.org/offerings/Observations_of_sensor_system_Glider2</swes:identifier>
               <swes:procedure>http://myServer.org/sensors/glider2</swes:procedure>
               <sos:observedArea>
                  <gml:Envelope srsName="http://www.opengis.net/def/crs/EPSG/0/4326" srsDimension="2">
                     <gml:lowerCorner>24.0 -94.0</gml:lowerCorner>
                     <gml:upperCorner>27.0 -88.0</gml:upperCorner>
                  </gml:Envelope>
               </sos:observedArea>
               <sos:phenomenonTime>
                  <gml:TimePeriod gml:id="T2">
                     <gml:beginPosition>2010-09-15T00:00:00Z</gml:beginPosition>
                     <gml:endPosition>2011-02-22T00:00:00Z</gml:endPosition>
                  </gml:TimePeriod>
               </sos:phenomenonTime>
            </sos:ObservationOffering>
         </swes:offering>
         <!-- ... more offerings ... one for each glider -->
         <sos:responseFormat>http://www.opengis.net/om/2.0</sos:responseFormat>
         <sos:observationType>http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement</sos:observationType>
      </sos:Contents>
   </sos:contents>
</sos:Capabilities>
